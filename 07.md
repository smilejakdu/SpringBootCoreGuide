# 07 테스트코드 작성하기



## ✅ 테스트코드를 작성하는 이유

* 개발 과정에서 문제를 미리 발견할 수 있다.
* 리팩토링의 리스크가 줄어든다.
* 테스트를 빠르게 진행가능하다.
* 코드가 작성된 목적을 명확하게 표현할 수 있다.

## ✅ 단위테스트와 통합 테스트

<figure><img src=".gitbook/assets/스크린샷 2023-11-29 오후 11.47.46.png" alt="" width="375"><figcaption></figcaption></figure>

단위테스트는 테스트 대상의 범위를 기준으로 가장 작은 단위의 테스트 방식이다.

메서드 단위로 테스트를 수행하게 된다.

통합테스트의 특징으로는 모듈을 통합하는 과정에서의 호환성 등을 포함해 애플리케이션이 정상적으로 동작하는지 확인하기 위해 수행하는 테스트 방식이다.



## ✅ 테스트 코드 작성법

Given: 테스트를 수행하기 전에 테스트에 필요한 환경을 설정하는 단계이다. 테스트에 필요한 변수를 정의하거나 Mock 객체를 통해 특정 상황에 대한 행동을 정의합니다.

When: 테스트의 목적을 보여주는 단계이다. 실제 테스트코드가 포함되며, 테스트를 통한 결괏값을 가져오게 된다.

Then: 테스트의 결과를 검증하는 단계이다.

위의 패턴처럼 작성하게  되면 폼이 커지기 때문에 단위 테스트에서는 잘 사용하지 않는다.

그 이유중 하나는 불필요하게 코드가 길어진다.



## ✅ 좋은 테스트를 작성하는 5가지 속성( F I R S T )

빠르게 , 고룁된, 반복 가능한 , 자가 검증 , 적시에



`빠르게` : 테스트는 빠르게 수행돼야 합니다. 테스트가 느리면 코드를 개선하는 작업이 느려져 코드 품질이 떨어질 수 있다.

테스트 속오데 절대적인 기준은 없지만 목적을 단순하게 설정해서 작성하거나 외부 환경을 사용하지 않는 단위 테스트를 작성하는 것 등을 빠른 테스트라고 볼 수 있다.



고립된, 독립적 : 하나의 테스트 코드는 목적으로 여기는 하나의 대상에 대해서만 수행돼야 합니다. 만약 하나의 테스트가 달느 테스트코드와 상호작용하거나 관리할 수 없는 외부 소스를 사용하게 되면 외부 요인으로 인해 테스트가 수행되지 않을 수 있다.



반복 가능한: 테스트는 어떤 환경에서도 반복 가능하도록 작성해야한다. 이 의미는 앞의 isolated 규칙과 비슷한 의미를 갖고 있다. 테스트는 개발 환경의 변화나 네트워크의 연결 여부와 상관없이 수행돼야 한다.



자가 검증: 테스트는 그 자체만으로도 테스트의 검증이 완료돼야 한다. 테스트가 성공했는지 실패했는지 확인할 수 있는 코드를 함께 작성한다.  만약 결과값과 기대값을 비교하는 작업을 코드가 아니라 개발자가 직접 확인하고 있다면 좋지 못한 테스트 코드이다.



적시에: 테스트코드는 테스트하려는 애플리케이션 코드를 구현하기 전에 완성돼야 한다. 너무 늦게 작성된 테스트 코드는 정상적인 역할을 수행하기 어려울 수 있다. 또한 테스트 코드로 인해 발견된 문제를 해결하기 위해 소모되는 개발 비용도 커지기 쉽다. 다만 이 개념은 테스트 주도 개발의 원칙을 따른느 테스트 작성 규칙으로 테스트 주도 개발을 기반으로 애플리케이션을 개발하는 것이 아니라면 이 규칙은 제외하고 진행하기도 한다.



## ✅ JUnit 을 활용한 테스트 코드 작성

JUnit 은 단위 테스트를 위한 도구를 제공한다.

단위 테스트 뿐만 아니라 통합 테스트를 할 수 있는 기능도 있지만 주로 단위 테스트를 이용한다.

JUnit 의 가장 큰 특징은 어노테이션 기반의 테스트 방식을 지원한다는거다.

또한 JUnit 을 활용하면 단정문을 통해 테스트 케이스의 기댓값이 정상적으로 도출됐는지 검토할 수 있다는 장점이 있다.

JUnit Platform &#x20;
