# 13 서비스의 인증과 권한 부여

스프링 스큐리티를 배우기에 앞서 보안과 관련된 개념을 알아야한다.

인증과 인가

인증은 누구인지 확인하는 단계를 의미한다.

인가는 인증을 통해 검증된 사용자가 애플리케이션 내부의 리소스에 접근할 때 사용자가 해당 리소스에 접근할 권리가 있는지를 확인하는 과정을 의미한다.



접근 주체는 사용자가 될 수도 있고, 디바이스, 시스템 등이 될 수도 있다.

애플리케이션은 앞서 소개한 인증 과정을 통해 접근 주체가 신뢰할 수 있는지 확인하고,&#x20;

인가 과정을 통해 접근 주체에게 부여된 권한을 확인하는 과정 등을 거칩니다.



## 스프링 스큐리티

스프링 스큐리티는 서블릿 필터를 기반으로 동작한다.

<figure><img src="../.gitbook/assets/스크린샷 2023-12-04 오후 6.55.44.png" alt=""><figcaption></figcaption></figure>

클라이언트에서 애플리케이션으로 요청을 보내면 서블릿 컨테이너는 URI를 확인해서 필터와 서블릿을 매핑합니다.

스프링 시큐리티는 사용하고자 하는 필터체인을 서블릿 컨테이너의 필터 사이에서 동작시키기 위해 DelegatingFilterProxy 를 사용합니다.

<figure><img src="../.gitbook/assets/스크린샷 2023-12-04 오후 6.57.02.png" alt=""><figcaption></figcaption></figure>

DelegatingFilterProxy는 서블릿 컨테이너의 생명주기와 스프링 애플리케이션 컨텍스트 사이에서 다리 역할을 수행하는 필터 구현체입니다.

표준 서블릿 필터를 구현하고 있으며, 역할을 위임할 필터체인 프록시를 내부에 가지고 있습니다.

필터체인 프록시는 스프링 부트의 자동설정에 의해 자동 생성됩니다.

필터체인 프록시는 스프링 시큐리티에서 제공하는 필터로서 보안 필터체인을 통해 많은 보안 필터를 사용할 수 있습니다.

필터체인 프록시에서 사용할 수 있는 보안 필터체인은 List 형식으로 담을 수 있게 설정돼 있어 URI 패턴에 따라 특정 보안 필터 체인을 선택해서 사용하게 됩니다.

구체적인 내용은 책을 통해서 확인하는것이 좋을것 같다.





